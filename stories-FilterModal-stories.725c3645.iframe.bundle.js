/*! For license information please see stories-FilterModal-stories.725c3645.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkzighang=self.webpackChunkzighang||[]).push([[152],{"./src/stories/FilterModal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Usage:()=>Usage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FilterModal_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),QueryClientProvider=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.85.9_react@19.1.0/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),createLucideIcon=__webpack_require__("./node_modules/.pnpm/lucide-react@0.541.0_react@19.1.0/node_modules/lucide-react/dist/esm/createLucideIcon.js");const Funnel=(0,createLucideIcon.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Check=(0,createLucideIcon.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var x=__webpack_require__("./node_modules/.pnpm/lucide-react@0.541.0_react@19.1.0/node_modules/lucide-react/dist/esm/icons/x.js"),rotate_cw=__webpack_require__("./node_modules/.pnpm/lucide-react@0.541.0_react@19.1.0/node_modules/lucide-react/dist/esm/icons/rotate-cw.js"),dialog=__webpack_require__("./src/components/ui/dialog.tsx"),Button=__webpack_require__("./src/components/ui/Button.tsx");const filterData=[{title:"기업 형태",options:["전체","대기업","중견기업","중소기업","스타트업","유니콘","외국계기업","공공기관, 공기업","금융권  ","기타"]},{title:"직군",options:["전체","개발","데이터/AI","디자인","기획/PM","마케팅/광고/PR","영업/세일즈","경영/HR/재무","CS/고객지원","생산/품질/구매","물류/운송","연구/R&D","교육","의료/바이오","기타 전문직"]},{title:"지역",options:["전체",{name:"서울",subOptions:["전체","강남구","강동구","강북구","강서구","관악구","광진구","구로구","금천구","노원구","도봉구","동대문구","동작구","마포구","서대문구","서초구","성동구","성북구","송파구","양천구","영등포구","용산구","은평구","종로구","중구","중랑구"]},{name:"경기",subOptions:["전체","수원시","성남시","고양시","용인시","부천시","안산시","안양시","남양주시","화성시","평택시","의정부시","시흥시","파주시","김포시","광명시","광주시","군포시","오산시","이천시","양주시","구리시","안성시","포천시","의왕시","하남시","여주시","동두천시","과천시","가평군","연천군"]},{name:"인천",subOptions:["전체","중구","동구","미추홀구","연수구","남동구","부평구","계양구","서구","강화군","옹진군"]},{name:"부산",subOptions:["전체","중구","서구","동구","영도구","부산진구","동래구","남구","북구","해운대구","사하구","금정구","강서구","연제구","수영구","사상구","기장군"]},{name:"대구",subOptions:["전체","중구","동구","서구","남구","북구","수성구","달서구","달성군","군위군"]},{name:"광주",subOptions:["전체","동구","서구","남구","북구","광산구"]},{name:"대전",subOptions:["전체","동구","중구","서구","유성구","대덕구"]},{name:"울산",subOptions:["전체","중구","남구","동구","북구","울주군"]},{name:"세종",subOptions:["전체","세종특별자치시"]},{name:"강원",subOptions:["전체","춘천시","원주시","강릉시","동해시","태백시","속초시","삼척시","홍천군","횡성군","영월군","평창군","정선군","철원군","화천군","양구군","인제군","고성군","양양군"]},{name:"제주",subOptions:["전체","제주시","서귀포시"]},{name:"충북",subOptions:["전체","청주시","충주시","제천시","보은군","옥천군","영동군","증평군","진천군","괴산군","음성군","단양군"]},{name:"충남",subOptions:["전체","천안시","공주시","보령시","아산시","서산시","논산시","계룡시","당진시","금산군","부여군","서천군","청양군","홍성군","예산군","태안군"]},{name:"경북",subOptions:["전체","포항시","경주시","김천시","안동시","구미시","영주시","영천시","상주시","문경시","경산시","의성군","청송군","영양군","영덕군","청도군","고령군","성주군","칠곡군","예천군","봉화군","울진군","울릉군"]},{name:"경남",subOptions:["전체","창원시","진주시","통영시","사천시","김해시","밀양시","거제시","양산시","의령군","함안군","창녕군","고성군","남해군","하동군","산청군","함양군","거창군","합천군"]},{name:"전북",subOptions:["전체","전주시","군산시","익산시","정읍시","남원시","김제시","완주군","진안군","무주군","장수군","임실군","순창군","고창군","부안군"]},{name:"전남",subOptions:["전체","목포시","여수시","순천시","나주시","광양시","담양군","곡성군","구례군","고흥군","보성군","화순군","장흥군","강진군","해남군","영암군","무안군","함평군","영광군","장성군","완도군","진도군","신안군"]}]}];var queryObserver=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.85.9/node_modules/@tanstack/query-core/build/modern/queryObserver.js"),utils=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.85.9/node_modules/@tanstack/query-core/build/modern/utils.js");function infiniteQueryBehavior(pages){return{onFetch:(context,query)=>{const options=context.options,direction=context.fetchOptions?.meta?.fetchMore?.direction,oldPages=context.state.data?.pages||[],oldPageParams=context.state.data?.pageParams||[];let result={pages:[],pageParams:[]},currentPage=0;const fetchFn=async()=>{let cancelled=!1;const queryFn=(0,utils.ZM)(context.options,context.fetchOptions),fetchPage=async(data,param,previous)=>{if(cancelled)return Promise.reject();if(null==param&&data.pages.length)return Promise.resolve(data);const queryFnContext=(()=>{const queryFnContext2={client:context.client,queryKey:context.queryKey,pageParam:param,direction:previous?"backward":"forward",meta:context.options.meta};var object;return object=queryFnContext2,Object.defineProperty(object,"signal",{enumerable:!0,get:()=>(context.signal.aborted?cancelled=!0:context.signal.addEventListener("abort",()=>{cancelled=!0}),context.signal)}),queryFnContext2})(),page=await queryFn(queryFnContext),{maxPages}=context.options,addTo=previous?utils.ZZ:utils.y9;return{pages:addTo(data.pages,page,maxPages),pageParams:addTo(data.pageParams,param,maxPages)}};if(direction&&oldPages.length){const previous="backward"===direction,oldData={pages:oldPages,pageParams:oldPageParams},param=(previous?getPreviousPageParam:getNextPageParam)(options,oldData);result=await fetchPage(oldData,param,previous)}else{const remainingPages=pages??oldPages.length;do{const param=0===currentPage?oldPageParams[0]??options.initialPageParam:getNextPageParam(options,result);if(currentPage>0&&null==param)break;result=await fetchPage(result,param),currentPage++}while(currentPage<remainingPages)}return result};context.options.persister?context.fetchFn=()=>context.options.persister?.(fetchFn,{client:context.client,queryKey:context.queryKey,meta:context.options.meta,signal:context.signal},query):context.fetchFn=fetchFn}}}function getNextPageParam(options,{pages,pageParams}){const lastIndex=pages.length-1;return pages.length>0?options.getNextPageParam(pages[lastIndex],pages,pageParams[lastIndex],pageParams):void 0}function getPreviousPageParam(options,{pages,pageParams}){return pages.length>0?options.getPreviousPageParam?.(pages[0],pages,pageParams[0],pageParams):void 0}function hasNextPage(options,data){return!!data&&null!=getNextPageParam(options,data)}function hasPreviousPage(options,data){return!(!data||!options.getPreviousPageParam)&&null!=getPreviousPageParam(options,data)}var InfiniteQueryObserver=class extends queryObserver.${constructor(client,options){super(client,options)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(options){super.setOptions({...options,behavior:infiniteQueryBehavior()})}getOptimisticResult(options){return options.behavior=infiniteQueryBehavior(),super.getOptimisticResult(options)}fetchNextPage(options){return this.fetch({...options,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(options){return this.fetch({...options,meta:{fetchMore:{direction:"backward"}}})}createResult(query,options){const{state}=query,parentResult=super.createResult(query,options),{isFetching,isRefetching,isError,isRefetchError}=parentResult,fetchDirection=state.fetchMeta?.fetchMore?.direction,isFetchNextPageError=isError&&"forward"===fetchDirection,isFetchingNextPage=isFetching&&"forward"===fetchDirection,isFetchPreviousPageError=isError&&"backward"===fetchDirection,isFetchingPreviousPage=isFetching&&"backward"===fetchDirection;return{...parentResult,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(options,state.data),hasPreviousPage:hasPreviousPage(options,state.data),isFetchNextPageError,isFetchingNextPage,isFetchPreviousPageError,isFetchingPreviousPage,isRefetchError:isRefetchError&&!isFetchNextPageError&&!isFetchPreviousPageError,isRefetching:isRefetching&&!isFetchingNextPage&&!isFetchingPreviousPage}}},useBaseQuery=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.85.9_react@19.1.0/node_modules/@tanstack/react-query/build/modern/useBaseQuery.js");var apiClient=__webpack_require__("./src/api/axios/apiClient.ts");const newsQueryKeys_list=filters=>{var _filters_size,_filters_sort;return["news","list",{types:(null==filters?void 0:filters.types)?Array.from(filters.types).sort():void 0,jobGroups:(null==filters?void 0:filters.jobGroups)?Array.from(filters.jobGroups).sort():void 0,regionCodes:(null==filters?void 0:filters.regionCodes)?Array.from(filters.regionCodes).sort():void 0,size:null!==(_filters_size=null==filters?void 0:filters.size)&&void 0!==_filters_size?_filters_size:10,sort:null!==(_filters_sort=null==filters?void 0:filters.sort)&&void 0!==_filters_sort?_filters_sort:void 0}]},useGetNewsList=filters=>{const pageSize="number"==typeof(null==filters?void 0:filters.size)?filters.size:void 0;return function useInfiniteQuery(options,queryClient){return(0,useBaseQuery.t)(options,InfiniteQueryObserver,queryClient)}({queryKey:newsQueryKeys_list({...filters,size:pageSize}),initialPageParam:0,queryFn:async({pageParam})=>await async function getNewList({types,jobGroups,regionCodes,page=1,size=10,sort="createdAt,asc"}){var _response_data;const params=new URLSearchParams,appendRepeated=(key,valueSet)=>{if(valueSet&&0!==valueSet.size)for(const v of valueSet)params.append(key,v)};appendRepeated("types",types),appendRepeated("jobGroups",jobGroups),appendRepeated("regionCodes",regionCodes),"number"==typeof page&&params.set("page",String(page)),"number"==typeof size&&params.set("size",String(size)),"string"==typeof sort&&sort&&params.set("sort",sort);const url=`${(0,apiClient.hY)()}/v1/companies?${params.toString()}`,response=await apiClient.QS.get(url,{cache:"force-cache",revalidate:1440});var _response_data_data;return null!==(_response_data_data=null===(_response_data=response.data)||void 0===_response_data?void 0:_response_data.data)&&void 0!==_response_data_data?_response_data_data:response.data}({types:null==filters?void 0:filters.types,jobGroups:null==filters?void 0:filters.jobGroups,regionCodes:null==filters?void 0:filters.regionCodes,sort:null==filters?void 0:filters.sort,size:pageSize,page:pageParam}),getNextPageParam:lastPage=>{if(!lastPage.last)return lastPage.number+1},retry:1,refetchOnWindowFocus:!1,staleTime:3e4})},KOREAN_TO_COMPANY_TYPE={대기업:"LARGE_ENTERPRISE",중견기업:"MID_SIZED_ENTERPRISE",중소기업:"SMALL_MEDIUM_ENTERPRISE",스타트업:"STARTUP",유니콘:"UNICORN",외국계기업:"FOREIGN_COMPANY","공공기관, 공기업":"PUBLIC_OR_STATE_OWNED",금융권:"FINANCIAL_SERVICES",기타:"OTHER"},KOREAN_TO_JOB_GROUP={개발:"SOFTWARE_ENGINEERING","데이터/AI":"DATA_AI",디자인:"DESIGN","기획/PM":"PRODUCT_MANAGEMENT","마케팅/광고/PR":"MARKETING_ADS_PR","영업/세일즈":"SALES_BUSINESS","경영/HR/재무":"BUSINESS_ADMIN_HR","CS/고객지원":"CUSTOMER_SUCCESS_SUPPORT","생산/품질/구매":"MANUFACTURING_QA_PROCUREMENT","물류/운송":"LOGISTICS_TRANSPORT","연구/R&D":"RESEARCH_RND",교육:"EDUCATION","의료/바이오":"MEDICAL_BIO","기타 전문직":"OTHER_PROFESSIONALS"};function normalizeKoreanLabel(label){return label.replace(/\s+/g," ").trim()}const REGION_TO_CODE={서울:"SEOUL",부산:"BUSAN",대구:"DAEGU",인천:"INCHEON",광주:"GWANGJU",대전:"DAEJEON",울산:"ULSAN",세종:"SEJONG",경기:"GYEONGGI",강원:"GANGWON",충북:"CHUNGBUK",충남:"CHUNGNAM",전북:"JEONBUK",전남:"JEONNAM",경북:"GYEONGBUK",경남:"GYEONGNAM",제주:"JEJU"},DISTRICT_TO_CODE={종로구:"SEOUL_JONGNO_GU",중구:"SEOUL_JUNG_GU",용산구:"SEOUL_YONGSAN_GU",성동구:"SEOUL_SEONGDONG_GU",광진구:"SEOUL_GWANGJIN_GU",동대문구:"SEOUL_DONGDAEMUN_GU",중랑구:"SEOUL_JUNGNANG_GU",성북구:"SEOUL_SEONGBUK_GU",강북구:"SEOUL_GANGBUK_GU",도봉구:"SEOUL_DOBONG_GU",노원구:"SEOUL_NOWON_GU",은평구:"SEOUL_EUNPYEONG_GU",서대문구:"SEOUL_SEODAEMUN_GU",마포구:"SEOUL_MAPO_GU",양천구:"SEOUL_YANGCHEON_GU",강서구:"SEOUL_GANGSEO_GU",구로구:"SEOUL_GURO_GU",금천구:"SEOUL_GEUMCHEON_GU",영등포구:"SEOUL_YEONGDEUNGPO_GU",동작구:"SEOUL_DONGJAK_GU",관악구:"SEOUL_GWANAK_GU",서초구:"SEOUL_SEOCHO_GU",강남구:"SEOUL_GANGNAM_GU",송파구:"SEOUL_SONGPA_GU",강동구:"SEOUL_GANGDONG_GU",부산중구:"BUSAN_JUNG_GU",부산서구:"BUSAN_SEO_GU",부산동구:"BUSAN_DONG_GU",영도구:"BUSAN_YEONGDO_GU",부산진구:"BUSAN_BUSANJIN_GU",동래구:"BUSAN_DONGNAE_GU",부산남구:"BUSAN_NAM_GU",부산북구:"BUSAN_BUK_GU",해운대구:"BUSAN_HAEUNDAE_GU",사하구:"BUSAN_SAHA_GU",금정구:"BUSAN_GEUMJEONG_GU",부산강서구:"BUSAN_GANGSEO_GU",연제구:"BUSAN_YEONJE_GU",수영구:"BUSAN_SUYEONG_GU",사상구:"BUSAN_SASANG_GU",기장군:"BUSAN_GIJANG_GUN",인천중구:"INCHEON_JUNG_GU",인천동구:"INCHEON_DONG_GU",미추홀구:"INCHEON_MICHIHOL_GU",연수구:"INCHEON_YEONSU_GU",남동구:"INCHEON_NAMDONG_GU",부평구:"INCHEON_BUPYEONG_GU",계양구:"INCHEON_GYEYANG_GU",인천서구:"INCHEON_SEO_GU",강화군:"INCHEON_GANGHWA_GUN",옹진군:"INCHEON_ONGJIN_GUN",광주동구:"GWANGJU_DONG_GU",광주서구:"GWANGJU_SEO_GU",광주남구:"GWANGJU_NAM_GU",광주북구:"GWANGJU_BUK_GU",광산구:"GWANGJU_GWANGSAN_GU",대전동구:"DAEJEON_DONG_GU",대전중구:"DAEJEON_JUNG_GU",대전서구:"DAEJEON_SEO_GU",유성구:"DAEJEON_YUSEONG_GU",대덕구:"DAEJEON_DAEDEOK_GU",울산중구:"ULSAN_JUNG_GU",울산남구:"ULSAN_NAM_GU",울산동구:"ULSAN_DONG_GU",울산북구:"ULSAN_BUK_GU",울주군:"ULSAN_ULJU_GUN",제주시:"JEJU_JEJU_SI",서귀포시:"JEJU_SEOGWIPO_SI"};const NewsFilterContext=(0,react.createContext)(null);var FilterButton=__webpack_require__("./src/components/ui/FilterButton.tsx"),Chip=__webpack_require__("./src/components/ui/Chip.tsx");function FilterModal(){var _TotalNewData_pages_,_TotalNewData_pages;const queryClient=(0,QueryClientProvider.jE)(),{setFilters}=function useNewsFilterContext(){const ctx=(0,react.useContext)(NewsFilterContext);if(!ctx)throw new Error("useNewsFilterContext must be used within NewsFilterProvider");return ctx}(),[selectedCategory,setSelectedCategory]=(0,react.useState)("기업 형태"),[selectedRegion,setSelectedRegion]=(0,react.useState)(null),[selectedFilters,setSelectedFilters]=(0,react.useState)({"기업 형태":[],직군:[],지역:[]}),apiFilters=(0,react.useMemo)(()=>{const companyTypes=function mapCompanyTypes(koreanValues){return koreanValues.map(normalizeKoreanLabel).filter(v=>"전체"!==v).map(v=>KOREAN_TO_COMPANY_TYPE[v]).filter(Boolean)}(selectedFilters["기업 형태"]||[]),jobGroups=function mapJobGroups(koreanValues){return koreanValues.map(normalizeKoreanLabel).filter(v=>"전체"!==v).map(v=>KOREAN_TO_JOB_GROUP[v]).filter(Boolean)}(selectedFilters["직군"]||[]),regionCodes=function mapRegionsToCodes(selected){const codes=[];return Object.entries(selected).filter(([key])=>key.startsWith("지역-")).forEach(([key,values])=>{const metro=key.split("-")[1];if(!REGION_TO_CODE[metro])return;const filtered=values.map(normalizeKoreanLabel).filter(v=>"전체"!==v);0!==filtered.length&&filtered.forEach(district=>{const districtCode=DISTRICT_TO_CODE[`${metro}${district}`]||DISTRICT_TO_CODE[district];districtCode&&codes.push(districtCode)})}),codes}(selectedFilters);return{types:companyTypes.length?new Set(companyTypes):void 0,jobGroups:jobGroups.length?new Set(jobGroups):void 0,regionCodes:regionCodes.length?new Set(regionCodes):void 0,size:10,sort:void 0}},[selectedFilters]),{data:TotalNewData,isFetching}=useGetNewsList(apiFilters),[delayDone,setDelayDone]=(0,react.useState)(!0);(0,react.useEffect)(()=>{setDelayDone(!1);const t=setTimeout(()=>setDelayDone(!0),1e3);return()=>clearTimeout(t)},[selectedFilters]);const isLoadingUI=isFetching||!delayDone,currentCategoryData=filterData.find(data=>data.title===selectedCategory),getCurrentOptions=()=>{if(!currentCategoryData)return[];if("지역"===selectedCategory&&selectedRegion){const regionData=currentCategoryData.options.find(option=>"object"==typeof option&&option.name===selectedRegion);return(null==regionData?void 0:regionData.subOptions)||[]}return currentCategoryData.options},toggleFilter=value=>{value=normalizeKoreanLabel(value);const categoryKey="지역"===selectedCategory&&selectedRegion?`${selectedCategory}-${selectedRegion}`:selectedCategory;if("전체"===value){var _selectedFilters_categoryKey;const allOptions=getCurrentOptions().filter(option=>"전체"!==("string"==typeof option?option:option.name)).map(option=>"string"==typeof option?option:option.name),isAllSelected=((null===(_selectedFilters_categoryKey=selectedFilters[categoryKey])||void 0===_selectedFilters_categoryKey?void 0:_selectedFilters_categoryKey.length)||0)===allOptions.length;return void setSelectedFilters(prev=>({...prev,[categoryKey]:isAllSelected?[]:allOptions}))}setSelectedFilters(prev=>{var _prev_categoryKey;return{...prev,[categoryKey]:(null===(_prev_categoryKey=prev[categoryKey])||void 0===_prev_categoryKey?void 0:_prev_categoryKey.includes(value))?prev[categoryKey].filter(item=>item!==value):[...prev[categoryKey]||[],value]}})};var _TotalNewData_pages__totalElements;return(0,jsx_runtime.jsxs)(dialog.lG,{children:[(0,jsx_runtime.jsx)(dialog.zM,{asChild:!0,children:(0,jsx_runtime.jsxs)(FilterButton.F,{size:"sm",children:[(0,jsx_runtime.jsx)(Funnel,{className:"size-3"}),"필터"]})}),(0,jsx_runtime.jsxs)(dialog.Cf,{className:"flex h-[680px] max-h-[80vh] min-h-[400px] flex-col gap-0 bg-white p-0 sm:max-w-[635px]",children:[(0,jsx_runtime.jsx)(dialog.c7,{className:"flex flex-shrink-0 justify-center border-b px-5 py-6",children:(0,jsx_runtime.jsx)(dialog.L3,{className:"text-18-600",children:"필터 선택"})}),(0,jsx_runtime.jsxs)("div",{className:"flex min-h-0 flex-1",children:[(0,jsx_runtime.jsx)("div",{className:"bg-bg-tertiary w-[180px] flex-shrink-0 p-3",children:(0,jsx_runtime.jsx)("ul",{className:"space-y-2",children:filterData.map(data=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{setSelectedCategory(data.title),setSelectedRegion(null)},className:"text-16-600 h-10 w-full rounded-lg px-3 py-2 text-left transition-[background-color,color] duration-200 ease-in-out "+(selectedCategory===data.title?"bg-bg-base text-text-secondary":"hover:bg-bg-base text-text-tertiary"),children:data.title})},data.title))})}),(0,jsx_runtime.jsx)("div",{className:"min-h-0 flex-1 p-2",children:"지역"===selectedCategory?(0,jsx_runtime.jsxs)("div",{className:"flex h-full gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"min-h-0 w-[160px]",children:(0,jsx_runtime.jsx)("ul",{className:"scrollbar-hide h-full space-y-2 overflow-y-auto",children:null==currentCategoryData?void 0:currentCategoryData.options.map((option,index)=>{var _selectedFilters_;return"string"==typeof option?null:(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)("div",{onClick:()=>setSelectedRegion(option.name),className:"text-16-500 flex h-10 w-full items-center justify-between rounded-lg px-5 py-2 text-left transition-[background-color,color] duration-200 ease-in-out "+(selectedRegion===option.name?"text-text-info bg-bg-info":"bg-bg-base text-text-tertiary hover:bg-bg-info"),children:[option.name,(null===(_selectedFilters_=selectedFilters[`지역-${option.name}`])||void 0===_selectedFilters_?void 0:_selectedFilters_.length)>0&&(0,jsx_runtime.jsx)("span",{className:"text-16-500 text-text-info",children:selectedFilters[`지역-${option.name}`].length})]})},index)})})}),(0,jsx_runtime.jsx)("div",{className:"border-bg-line border-l-solid min-h-0 w-[260px] flex-1 border-l-1 px-2",children:selectedRegion?(0,jsx_runtime.jsx)("div",{className:"flex h-full flex-col",children:(0,jsx_runtime.jsx)("div",{className:"scrollbar-hide grid h-full grid-cols-1 gap-2 overflow-y-auto",children:getCurrentOptions().map((option,index)=>{var _selectedFilters_categoryKey;const subRegion="string"==typeof option?option:option.name,categoryKey=`지역-${selectedRegion}`;let isSelected=null===(_selectedFilters_categoryKey=selectedFilters[categoryKey])||void 0===_selectedFilters_categoryKey?void 0:_selectedFilters_categoryKey.includes(subRegion);if("전체"===subRegion){var _selectedFilters_categoryKey1;const allOtherRegions=getCurrentOptions().filter(opt=>"전체"!==("string"==typeof opt?opt:opt.name)).map(opt=>"string"==typeof opt?opt:opt.name);isSelected=((null===(_selectedFilters_categoryKey1=selectedFilters[categoryKey])||void 0===_selectedFilters_categoryKey1?void 0:_selectedFilters_categoryKey1.length)||0)===allOtherRegions.length}return(0,jsx_runtime.jsxs)("div",{onClick:()=>toggleFilter(subRegion),className:"text-16-500 flex h-10 w-full items-center gap-2 rounded-lg px-5 py-2 transition-colors "+(isSelected?"text-text-info bg-bg-info":"hover:bg-bg-info bg-bg-base text-text-tertiary"),children:[(0,jsx_runtime.jsx)("span",{children:subRegion}),isSelected&&(0,jsx_runtime.jsx)(Check,{className:"size-4"})]},index)})})}):(0,jsx_runtime.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,jsx_runtime.jsx)("p",{className:"text-gray-500",children:"지역을 선택해주세요"})})})]}):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-2 gap-2",children:getCurrentOptions().map((option,index)=>{var _selectedFilters_selectedCategory;const value="string"==typeof option?option:option.name;let isSelected=null===(_selectedFilters_selectedCategory=selectedFilters[selectedCategory])||void 0===_selectedFilters_selectedCategory?void 0:_selectedFilters_selectedCategory.includes(value);if("전체"===value){var _selectedFilters_selectedCategory1;const allOtherOptions=getCurrentOptions().filter(opt=>"전체"!==("string"==typeof opt?opt:opt.name)).map(opt=>"string"==typeof opt?opt:opt.name);isSelected=((null===(_selectedFilters_selectedCategory1=selectedFilters[selectedCategory])||void 0===_selectedFilters_selectedCategory1?void 0:_selectedFilters_selectedCategory1.length)||0)===allOtherOptions.length}return(0,jsx_runtime.jsx)(FilterButton.F,{variant:"filled",size:"lg",selected:isSelected,onClick:()=>toggleFilter(value),className:"w-full",children:value},index)})})})})]}),(0,jsx_runtime.jsx)("div",{className:"min-h-[60px] flex-shrink-0 border-t px-6 py-4",children:Object.values(selectedFilters).reduce((total,filters)=>total+filters.length,0)>0?(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(selectedFilters).filter(([,filters])=>filters.length>0).map(([category,filters])=>{const displayCategory=category.includes("-")?category.split("-")[1]:category;return(0,jsx_runtime.jsxs)(Chip.v,{variant:"default",onClick:()=>{setSelectedFilters(prev=>({...prev,[category]:[]}))},"aria-label":`${displayCategory} 필터 모두 제거`,children:[displayCategory," ",filters.length,"개",(0,jsx_runtime.jsx)(x.A,{className:"size-3"})]},category)})}):(0,jsx_runtime.jsx)("div",{className:"flex h-8 items-center justify-center",children:(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400",children:"선택된 필터가 없습니다"})})}),(0,jsx_runtime.jsxs)(dialog.Es,{className:"flex w-full flex-shrink-0 items-center justify-between gap-3 px-6 py-4",children:[(0,jsx_runtime.jsxs)(Button.$,{type:"button",variant:"outlined",size:"lg",className:"w-[200px] gap-2 p-4",onClick:()=>{setSelectedFilters({"기업 형태":[],직군:[],지역:[]}),setSelectedRegion(null)},children:[(0,jsx_runtime.jsx)(rotate_cw.A,{className:"size-5"}),"초기화"]}),(0,jsx_runtime.jsx)(dialog.HM,{asChild:!0,children:(0,jsx_runtime.jsx)(Button.$,{type:"button",variant:"filled",className:"w-full",size:"lg",disabled:isLoadingUI,onClick:()=>{const f=apiFilters;queryClient.setQueryData(["news","list",{types:f.types?Array.from(f.types).sort():void 0,jobGroups:f.jobGroups?Array.from(f.jobGroups).sort():void 0,regionCodes:f.regionCodes?Array.from(f.regionCodes).sort():void 0,size:f.size,sort:void 0}],TotalNewData),setFilters({types:f.types,jobGroups:f.jobGroups,regionCodes:f.regionCodes,size:f.size,sort:void 0})},children:isLoadingUI?"로딩중...":`${null!==(_TotalNewData_pages__totalElements=null==TotalNewData||null===(_TotalNewData_pages=TotalNewData.pages)||void 0===_TotalNewData_pages||null===(_TotalNewData_pages_=_TotalNewData_pages[0])||void 0===_TotalNewData_pages_?void 0:_TotalNewData_pages_.totalElements)&&void 0!==_TotalNewData_pages__totalElements?_TotalNewData_pages__totalElements:0}건 소식 보기`})})]})]})]})}const widgets_FilterModal=FilterModal;FilterModal.__docgenInfo={description:"",methods:[],displayName:"FilterModal"};const FilterModal_stories={title:"Components/FilterModal",component:widgets_FilterModal,parameters:{layout:"centered",docs:{description:{component:"FilterModal 컴포넌트: 다층 구조의 필터 선택을 위한 모달입니다. 기업 형태, 직군, 지역(세부지역 포함) 필터링을 지원합니다."}}},tags:["autodocs"],argTypes:{},args:{}},Default={render:()=>(0,jsx_runtime.jsx)(widgets_FilterModal,{}),parameters:{docs:{description:{story:"기본 FilterModal입니다. 필터 버튼을 클릭하면 모달이 열립니다."}}}},Usage={render:()=>(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"필터 모달 사용법"}),(0,jsx_runtime.jsx)("p",{className:"mb-4 text-gray-600",children:"아래 필터 버튼을 클릭해서 다양한 필터 기능을 체험해보세요"})]}),(0,jsx_runtime.jsx)("div",{className:"flex justify-center",children:(0,jsx_runtime.jsx)(widgets_FilterModal,{})})]}),parameters:{docs:{description:{story:"\nFilterModal의 주요 기능:\n- **3단계 카테고리**: 기업 형태, 직군, 지역\n- **지역 세부 필터**: 서울(25개 구), 경기(31개 시/군) 등\n- **실시간 선택 표시**: 선택된 필터가 FilterButton으로 표시\n- **선택 개수 표시**: 각 카테고리별 선택 개수 뱃지\n- **초기화 기능**: 모든 필터를 한 번에 초기화\n        "}}}},__namedExportsOrder=["Default","Usage"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: () => <FilterModal />,\n  parameters: {\n    docs: {\n      description: {\n        story: "기본 FilterModal입니다. 필터 버튼을 클릭하면 모달이 열립니다."\n      }\n    }\n  }\n}',...Default.parameters?.docs?.source}}},Usage.parameters={...Usage.parameters,docs:{...Usage.parameters?.docs,source:{originalSource:'{\n  render: () => <div className="space-y-4">\n      <div className="text-center">\n        <h3 className="mb-2 text-lg font-semibold">필터 모달 사용법</h3>\n        <p className="mb-4 text-gray-600">\n          아래 필터 버튼을 클릭해서 다양한 필터 기능을 체험해보세요\n        </p>\n      </div>\n      <div className="flex justify-center">\n        <FilterModal />\n      </div>\n    </div>,\n  parameters: {\n    docs: {\n      description: {\n        story: `\nFilterModal의 주요 기능:\n- **3단계 카테고리**: 기업 형태, 직군, 지역\n- **지역 세부 필터**: 서울(25개 구), 경기(31개 시/군) 등\n- **실시간 선택 표시**: 선택된 필터가 FilterButton으로 표시\n- **선택 개수 표시**: 각 카테고리별 선택 개수 뱃지\n- **초기화 기능**: 모든 필터를 한 번에 초기화\n        `\n      }\n    }\n  }\n}',...Usage.parameters?.docs?.source}}}}}]);